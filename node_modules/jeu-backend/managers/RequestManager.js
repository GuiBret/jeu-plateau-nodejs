/*jshint esversion:6*/

class RequestManager {
    constructor(app, DBConnection) {
        this.app = app;
        this.DBConnection = DBConnection;
        
        this.app
            .get("/", this.getMainPage)
            .get("/menu/", this.getMenu)
            .get("/game/:mode", this.getGamePage)
            .get("/profile/:id", this.getProfile);
                
                
    }
    
    getMainPage(req, res) {
        res.render("tpl-connect-panel.ejs"); 
    }
    
    getMenu(req, res) {
        res.render("main-menu.ejs");
    }
    
    getGamePage(req, res) {
        if(req.params.mode === "local") {
        res.render("game.ejs");      
    
        } else {
            res.render("game_online.ejs");
        }
    }
    
    getProfile(req, res) {
        DBConnection.getUserProfileInfo(req.params.id).then((info) => {
       
            res.render("profile.ejs", {"info": info}); 
    
        });
    }
    
}

module.exports = RequestManager;